(this.webpackJsonpaplicacao=this.webpackJsonpaplicacao||[]).push([[0],{17:function(e,t,a){e.exports=a(28)},22:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getClientes",(function(){return j})),a.d(n,"addCliente",(function(){return y})),a.d(n,"updateCliente",(function(){return N})),a.d(n,"removeCliente",(function(){return g})),a.d(n,"setClienteParaAlterar",(function(){return A})),a.d(n,"setOrdenacao",(function(){return T})),a.d(n,"setPesquisa",(function(){return S}));var r=a(0),l=a.n(r),c=a(11),o=a.n(c),i=(a(22),a(1)),u=a(2),s=a(4),m=a(3),p=a(5),E=a(6),f=a(10),d=a(7),b=Object(f.b)({clientes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{ordenacao:"a-z"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CLIENTES":return Object(d.a)({},e,{clientes:t.data});case"ADD_CLIENTE":return Object(d.a)({},e,{clientes:e.clientes.concat([t.cliente])});case"UPDATE_CLIENTE":return Object(d.a)({},e,{cliente:null,clientes:e.clientes.map((function(e){return e.id===t.cliente.id?t.cliente:e}))});case"REMOVE_CLIENTE":return Object(d.a)({},e,{clientes:e.clientes.filter((function(e){return e.id!==t.id}))});case"SET_CLIENTE":return Object(d.a)({},e,{cliente:t.cliente});case"SET_ORDENACAO":return Object(d.a)({},e,{ordenacao:t.ordenacao});case"SET_PESQUISA":return Object(d.a)({},e,{pesquisa:t.pesquisa});default:return e}}}),h=Object(f.c)(b),v=function(){return(new Date).getTime()},O=function(e){var t=Math.floor(1e5*Math.random()+1e5),a=v(),n=v();return Object(d.a)({},e,{id:t,criadoEm:a,atualizadoEm:n})},C=[{id:1,nome:"Jonata",telefone:"99999-9999",email:"jonata@gmail.com",cpf:"111.222.333-45",criadoEm:v(),atualizadoEm:v()}],j=function(){return{type:"GET_CLIENTES",data:C}},y=function(e){return{type:"ADD_CLIENTE",cliente:O(e)}},N=function(e,t){return{type:"UPDATE_CLIENTE",cliente:Object(d.a)({id:e},t,{atualizadoEm:v()})}},g=function(e){return{type:"REMOVE_CLIENTE",id:e}},A=function(e){return{type:"SET_CLIENTE",cliente:e}},T=function(e){return{type:"SET_ORDENACAO",ordenacao:e.target.value}},S=function(e){return{type:"SET_PESQUISA",pesquisa:e.target.value}},k=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.ordenacao;return l.a.createElement("div",{className:"Ordenacao"},l.a.createElement("label",null,"Ordenar por"),l.a.createElement("select",{value:e||"a-z",onChange:this.props.setOrdenacao},l.a.createElement("option",{value:"a-z"}," Alfab\xe9tica de A-Z "),l.a.createElement("option",{value:"z-a"}," Alfab\xe9tica de Z-A "),l.a.createElement("option",{value:"criacao"}," Data de cria\xe7\xe3o ")))}}]),t}(l.a.Component),I=Object(E.b)((function(e){return{ordenacao:e.clientes.ordenacao}}),n)(k),q=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.pesquisa,a=e.setPesquisa;return l.a.createElement("div",{className:"Pesquisa"},l.a.createElement("input",{value:t||"",onChange:a,placeholder:" Pesquise aqui ... "}))}}]),t}(l.a.Component),D=Object(E.b)((function(e){return{pesquisa:e.clientes.pesquisa}}),n)(q),F=function(e){return l.a.createElement("div",{className:"Input"},e.label&&l.a.createElement("label",null,e.label),l.a.createElement("input",{value:e.value,onChange:e.onChange,placeholder:e.placeholder,type:e.type||"text"}),e.erro&&l.a.createElement("small",null,e.erro))},L={form:{nome:"",email:"",telefone:"",cpf:""},erros:{},mostrarForm:!1},_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state=L,a.mostrarForm=function(){a.setState({mostrarForm:!a.state.mostrarForm})},a.validar=function(){var e=a.state.form,t={};return["nome","telefone","email","cpf"].forEach((function(a){e[a]||(t[a]="Digite o "+a)})),a.setState({erros:t}),0===Object.keys(t).length},a.onChange=function(e,t){var n=a.state.form;n[e]=t.target.value,a.setState({form:n},(function(){a.validar()}))},a.handleSubmit=function(){if(!a.validar())return null;var e=a.state.form,t=a.props.cliente;t?a.props.updateCliente(t.id,e):a.props.addCliente(e),a.setState(L)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentWillUpdate",value:function(e){!this.props.cliente&&e.cliente&&this.setState({form:e.cliente,erros:{},mostrarForm:!0}),this.props.cliente&&!e.cliente&&this.setState(L)}},{key:"renderFormulario",value:function(){var e=this,t=this.state,a=t.form,n=t.erros;return l.a.createElement("div",{className:"Formulario"},l.a.createElement("div",null,l.a.createElement(F,{value:a.nome,onChange:function(t){return e.onChange("nome",t)},label:"Nome",erro:n.nome}),l.a.createElement(F,{value:a.telefone,onChange:function(t){return e.onChange("telefone",t)},label:"Telefone",erro:n.telefone}),l.a.createElement(F,{value:a.email,onChange:function(t){return e.onChange("email",t)},label:"Email",erro:n.email}),l.a.createElement(F,{value:a.cpf,onChange:function(t){return e.onChange("cpf",t)},label:"CPF",type:"email",erro:n.cpf}),l.a.createElement("div",null,l.a.createElement("button",{onClick:this.handleSubmit,className:"botao botao-verde"}," Salvar "),l.a.createElement("button",{onClick:this.mostrarForm,className:"botao"}," Cancelar "))))}},{key:"renderBotao",value:function(){return l.a.createElement("div",{className:"Formulario"},l.a.createElement("button",{onClick:this.mostrarForm,className:"botao botao-azul"}," + ADICIONAR CLIENTE "))}},{key:"render",value:function(){return this.state.mostrarForm?this.renderFormulario():this.renderBotao()}}]),t}(l.a.Component),z=Object(E.b)((function(e){return{cliente:e.clientes.cliente}}),n)(_),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={iniciouExclusao:!1},a.excluirCliente=function(){if(!a.state.iniciouExclusao)return a.setState({iniciouExclusao:!0});a.props.removeCliente(a.props.cliente.id)},a.alterarCliente=function(){a.props.setClienteParaAlterar(a.props.cliente)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.cliente,t=this.state.iniciouExclusao;return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.nome," "),l.a.createElement("td",null," ",e.telefone," "),l.a.createElement("td",null," ",e.email," "),l.a.createElement("td",null," ",e.cpf," "),l.a.createElement("td",{onClick:this.alterarCliente,className:"botao botao-laranja"}," ","Alterar"," "),l.a.createElement("td",{onClick:this.excluirCliente,className:"botao botao-vermelho"}," ",t?"Certeza ?":"Excluir"," "))}}]),t}(l.a.Component),x=Object(E.b)(null,n)(P),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).ordenacao=function(e,t){var n=a.props.ordenacao;return"a-z"===n?e.nome.localeCompare(t.nome):"z-a"===n?-1*e.nome.localeCompare(t.nome):"criacao"===n?new Date(e.criadoEm)-new Date(t.criadoEm):void 0},a.pesquisa=function(e){var t=e.nome,n=e.telefone,r=e.email,l=e.cpf,c=a.props.pesquisa;return!c||[t,n,r,l].join(" ; ").includes(c)},a.excluir=function(){},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getClientes()}},{key:"render",value:function(){var e=this.props.clientes;return l.a.createElement("div",{className:"ListaClientes"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Nome"),l.a.createElement("th",null,"Telefone"),l.a.createElement("th",null,"Email"),l.a.createElement("th",null,"CPF"))),l.a.createElement("tbody",null,(e||[]).filter(this.pesquisa).sort(this.ordenacao).map((function(e,t){return l.a.createElement(x,{cliente:e,key:e.id})})))))}}]),t}(l.a.Component),M=Object(E.b)((function(e){return{clientes:e.clientes.clientes,ordenacao:e.clientes.ordenacao,pesquisa:e.clientes.pesquisa}}),n)(w),R=function(){return l.a.createElement("div",{className:"Opcoes flex horizontal"},l.a.createElement("div",null,l.a.createElement(D,null)),l.a.createElement("div",null,l.a.createElement(I,null)))},U=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Listagem"},l.a.createElement("div",{className:"Header"},l.a.createElement("h2",null,"Lista de Clientes")),l.a.createElement("hr",null),l.a.createElement(z,null),l.a.createElement("br",null),l.a.createElement(R,null),l.a.createElement("br",null),l.a.createElement("hr",null),l.a.createElement(M,null))}}]),t}(l.a.Component),B=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"Aplicacao"},l.a.createElement(U,null))}}]),t}(l.a.Component),J=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(E.a,{store:h},l.a.createElement("div",{className:"App"},l.a.createElement(B,null)))}}]),t}(r.Component);o.a.render(l.a.createElement(J,null),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.9f5faf11.chunk.js.map